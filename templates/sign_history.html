{% extends "base.html" %}
{% block title %}간판 이미지 히스토리{% endblock %}

{% block content %}
<div class="container py-4">
  <h3>간판 {{ i_info }} 이미지 히스토리</h3>
  {% if rows and rows|length > 0 %}
    <div class="row g-3 mt-3">
      {% for row in rows %}
      <div class="col-sm-6 col-md-4 col-lg-3">
        <div class="card shadow-sm h-100">
          <a href="/static/history/{{ row.i_img }}_{{ row.id }}.jpg" data-lightbox="history" data-title="업로드일: {{ row.created_at }}">
            <img src="/static/history/{{ row.i_img }}_{{ row.id }}.jpg" class="card-img-top" style="object-fit:cover; height:180px;">
          </a>
          <div class="card-body p-2">
            <p class="small text-muted mb-0">업로드일</p>
            <p class="small mb-0">{{ row.created_at }}</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted mt-3">저장된 이미지 히스토리가 없습니다.</p>
  {% endif %}
</div>
{% endblock %}

{% block scripts %}
<!-- Lightbox2 라이브러리 사용 -->
<link href="https://cdn.jsdelivr.net/npm/lightbox2@2/dist/css/lightbox.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/lightbox2@2/dist/js/lightbox.min.js"></script>
<script>
  lightbox.option({
    'resizeDuration': 200,
    'wrapAround': true,
    'albumLabel': "이미지 %1 / %2"
  })
</script>
{% endblock %}
